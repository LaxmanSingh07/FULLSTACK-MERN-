# Authentication and Authorization


## Authentication

This is the process of verifying the identity of a user. This is done by checking the credentials of the user against the credentials stored in the database.


## Authorization

This is the process of verifying if a user has access to a particular resource. This is done by checking the role of the user against the role required to access the resource.


## SignUp

This is the process of creating a new user. This is done by creating a new user in the database.

## Login

This is the process of logging in a user. This is done by checking the credentials of the user against the credentials stored in the database.


## JSON Web Token (JWT) 

It is a secured way to transfer data between two parties. It is a string that is sent in the header of the request. It is used to verify the identity of the user. It is generated by the server and sent to the client. The client then sends the token in the header of the request to the server. The server then verifies the token and sends the response.

`JsonWebToken is split into three parts: Header, Payload and Signature`


`Header` : "alg" and "typ" are the two properties of the header. "alg" is the algorithm used to generate the signature. "typ" is the type of the token which is JWT.

`Payload` : It contains the data. It contains the claims. Claims are statements about the user. There are three types of claims: Registered, Public and Private. Registered claims are predefined claims. Public claims are custom claims. Private claims are custom claims that are used to share information between two parties.


`Signature` : It is used to verify the message wasn't changed along the way. It is generated by combining the header, payload, a secret and the algorithm specified in the header. The secret is stored in the server. The algorithm is specified in the header.




`JWT IS NOT ENCRYPTED. IT IS ONLY BASE64 ENCODED.`

JWT IS GIVEN TO THE CLIENT AFTER SUCCESSFUL LOGIN. THE CLIENT THEN SENDS THE JWT IN THE HEADER OF THE REQUEST TO THE SERVER. THE SERVER THEN VERIFIES THE JWT AND SENDS THE RESPONSE.


## bcrypt

It is used to hash the password. It is a one way hashing algorithm. It is used to hash the password before storing it in the database. It is also used to hash the password before comparing it with the password stored in the database.

CyrptoGraphically Secure Hashing Algorithm (CSHA) is used to hash the password. It is a one way hashing algorithm. It is used to hash the password before storing it in the database. It is also used to hash the password before comparing it with the password stored in the database.


`Some encryption algorithms are`: MD5, SHA1, SHA256, SHA512, etc.


## Cookies

Cookies are used to store the JWT. Cookies are sent in the header of the request. Cookies are stored in the browser. Cookies are sent to the server with every request. Cookies are used to store the JWT. Cookies are sent in the header of the request. Cookies are stored in the browser. Cookies are sent to the server with every request. Cookies are used to store the JWT. Cookies are sent in the header of the request. Cookies are stored in the browser. Cookies are sent to the server with every request. Cookies are used to store the JWT. Cookies are sent in the header of the request. Cookies are stored in the browser. Cookies are sent to the server with every request. Cookies are used to store the JWT. Cookies are sent in the header of the request. Cookies are stored in the browser. Cookies are sent to the server with every request. Cookies are used to store the JWT. Cookies are sent in the header of the request. Cookies are stored in the browser. Cookies are sent to the server with every request. Cookies are used to store the JWT. Cookies are sent in the header of the request. Cookies are stored in the browser. Cookies are sent to the server with every request. Cookies are used to store the JWT. Cookies are sent in the header of the request. Cookies are stored in the browser. Cookies are sent to the server with every request.


`Comman Flow for SignUp`

(This is how I have implemented it. There are other ways to implement it.)

1. The user enters the username and password.
2. check if the username already exists in the database.
3. hash the password.
4. create a new user in the database.
5. send the response.

`Comman Flow for Login`



## Middleware

Middleware is Used for the following purposes:

1. To execute code.
2. To modify the request and response objects.
3. To end the request-response cycle.
4. To call the next middleware function in the stack.
5. If the current middleware function does not end the request-response cycle, it must call next() to pass control to the next middleware function. Otherwise, the request will be left hanging.
6. Authentication and Authorization are implemented using middleware.


## Token Based Authentication


We have to send the token in the header of the request. We can send the token in the header of the request in two ways:

1. Using Cookies : Cookies are sent in the header of the request. Cookies are stored in the browser. Cookies are sent to the server with every request.

2. Using Authorization Header : (key : Authorization, value : Bearer token) Authorization header is sent in the header of the request. Authorization header is not stored in the browser. Authorization header is sent to the server with every request.

### Hot Do Json Web Tokens Work?

```link
Documentation : https://jwt.io/introduction/

```

## BEARER TOKEN

It is secure way.

Why Bearer Token is secure?

1. It is not stored in the browser.
2. It is not sent in the header of the request.
3. It is not stored in the database.
4. It is not sent in the response.
5. It is not stored in the server.



 `Express-FileUpload are middleware libraries`


## Express-FileUpload

